@model FacebookDAW.Models.Album
@{
    /**/

    ViewBag.Title = "Show";
}

<h2>@Model.Name</h2>
@if (!ViewBag.allowLike)
{
    using (Html.BeginForm("AddPicture", "Album", FormMethod.Post,
                            new { enctype = "multipart/form-data" }))
    {
        <input type="hidden" value="@Model.Id" id="albumId" name="albumId" />
        <label for="file">Upload Image:</label>
        <input type="file" name="file" id="file" /><br><br>
        <input type="submit" value="Upload Image" />
        <br><br>
        @ViewBag.Message
    }
}
<hr />

@foreach (FacebookDAW.Models.Photo p in ViewBag.photos)
{
    <div class="card">
        <div class="card-body">
            <img src="@Url.Content(p.Description)" height="100px" weight="100px" alt="Sper sa nu apara mesajul asta" />
            <br />
            @if (p.Likes == 1)
            {
                <small>1 person appreciates this photo</small>
            }
            else
            {
                <small>@p.Likes people appreciate this photo</small>
            }
            @if (!ViewBag.userProfile.LikedPhotos.Contains(p) && !p.PeopleThatLiked.Contains(ViewBag.userProfile) && ViewBag.userProfile != ViewBag.currentProfile)
            {
                <a class="btn btn-sm btn-success" href="/Album/Like/@p.Id">Like photo</a>
            }
            <a class="btn btn-sm btn-success" href="/Comment/Index/@p.Id">View comments</a>
            @if (ViewBag.allowDelete)
            {
            <a class="btn btn-sm btn-danger" href="/Album/DeletePhoto/@p.Id">Delete photo</a>
            }
            <br />
        </div>
    </div>
}




